<div class="min-h-screen flex flex-col font-sans bg-[#F3DEBA]">

  <!-- Top Bar -->
  <div class="bg-[#F59E0B] text-white py-1 px-4 text-xs flex justify-between items-center shadow-sm z-30 relative">
    <div class="font-bold">WMA Portal</div>
    <div class="flex gap-4">
      <a href="#" class="hover:underline">Help/FAQ</a>
      <a href="#" class="hover:underline">Language</a>
    </div>
  </div>

  <!-- Header -->
  <header class="relative bg-white shadow-md z-20">
    <!-- Flag Colors Bar -->
    <div class="h-2 w-full flex">
      <div class="h-full w-1/4 bg-green-600"></div>
      <div class="h-full w-1/4 bg-yellow-400"></div>
      <div class="h-full w-1/4 bg-blue-600"></div>
      <div class="h-full w-1/4 bg-black"></div>
    </div>
    
    <div class="container mx-auto px-4 py-4 flex justify-between items-center">
      <!-- Left Logo -->
      <div class="flex items-center">
        <img src="/images/coat-of-arms.png" alt="Coat of Arms" class="h-20 w-auto">
      </div>

      <!-- Center Text -->
      <div class="text-center hidden md:block">
        <h1 class="text-sm font-bold text-gray-700 uppercase tracking-wider">The United Republic of Tanzania</h1>
        <h2 class="text-xs font-semibold text-gray-500 uppercase">Ministry of Industry and Trade</h2>
        <h3 class="text-lg font-extrabold text-gray-900 uppercase">Weights and Measures Agency</h3>
      </div>

      <!-- Right Logo -->
      <div class="flex items-center">
        <img src="/images/wma-logo.jpg" alt="WMA Logo" class="h-20 w-auto">
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <div class="flex-grow flex flex-col items-center justify-center p-4">
    <!-- Login Card -->
    <div class="bg-[#FDF6E9] rounded-2xl shadow-xl overflow-hidden max-w-4xl w-full flex flex-col md:flex-row">
      
      <!-- Left Side: Image Slider -->
      <div class="w-full md:w-1/2 relative h-64 md:h-auto bg-gray-800 overflow-hidden group">
        <!-- Slides -->
        <div *ngFor="let slide of slides; let i = index" 
             class="absolute inset-0 w-full h-full transition-opacity duration-1000 ease-in-out"
             [ngClass]="{'opacity-100': i === currentSlide, 'opacity-0': i !== currentSlide}">
          <img 
            [src]="slide.image" 
            [alt]="slide.title" 
            class="w-full h-full object-cover opacity-80"
          >
          <!-- Overlay Gradient -->
          <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"></div>
          
          <!-- Text Content -->
          <div class="absolute bottom-12 left-0 right-0 p-6 text-white text-center transform transition-transform duration-700"
               [ngClass]="{'translate-y-0 opacity-100': i === currentSlide, 'translate-y-4 opacity-0': i !== currentSlide}">
            <h3 class="text-xl font-bold mb-2">{{ slide.title }}</h3>
            <p class="text-sm text-gray-200">{{ slide.description }}</p>
          </div>
        </div>

        <!-- Navigation Arrows -->
        <button (click)="prevSlide()" class="absolute left-4 top-1/2 -translate-y-1/2 w-8 h-8 bg-[#F59E0B]/80 hover:bg-[#F59E0B] rounded-full flex items-center justify-center text-white transition-all opacity-0 group-hover:opacity-100 transform -translate-x-2 group-hover:translate-x-0">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
          </svg>
        </button>
        <button (click)="nextSlide()" class="absolute right-4 top-1/2 -translate-y-1/2 w-8 h-8 bg-[#F59E0B]/80 hover:bg-[#F59E0B] rounded-full flex items-center justify-center text-white transition-all opacity-0 group-hover:opacity-100 transform translate-x-2 group-hover:translate-x-0">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4">
            <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
          </svg>
        </button>
        
        <!-- Dots -->
        <div class="absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2 z-10">
          <button *ngFor="let slide of slides; let i = index" 
                  (click)="goToSlide(i)"
                  class="w-2 h-2 rounded-full transition-all duration-300"
                  [ngClass]="{'bg-[#F59E0B] w-6': i === currentSlide, 'bg-white/50 hover:bg-white': i !== currentSlide}">
          </button>
        </div>
      </div>

      <!-- Right Side: Login Form -->
      <div class="w-full md:w-1/2 p-8 md:p-10 flex flex-col justify-center">
        <div class="text-center mb-6">
          <h2 class="text-2xl font-bold text-gray-800 mb-2">Welcome to WMA Online</h2>
          <p class="text-gray-600 text-sm">Please sign-in to your account and start the session</p>
        </div>

        <form (ngSubmit)="onSignIn()" class="space-y-5">
            <!-- Email Input -->
            <div class="mb-4">
              <label for="email" class="mb-2.5 block font-medium text-gray-700 dark:text-gray-400">Email</label>
              <div class="relative">
                <input type="email" placeholder="Enter your email" [(ngModel)]="email" name="email"
                  [disabled]="isLoading"
                  [class.border-red-500]="emailError"
                  class="w-full rounded-lg border border-gray-300 bg-transparent py-4 pl-6 pr-10 text-gray-700 outline-none focus:border-primary focus-visible:shadow-none dark:border-gray-600 dark:bg-gray-800 dark:text-gray-400 dark:focus:border-primary" />

                <span class="absolute right-4 top-4">
                  <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                      d="M10.9999 19.3333C12.9231 19.3333 14.7939 18.7061 16.3383 17.6136C16.8344 17.2628 17.5186 17.3231 17.9409 17.7454C18.3632 18.1677 18.4235 18.8519 18.0727 19.348C16.1436 20.7121 13.7334 21.5208 11.125 21.5208C5.38388 21.5208 0.729166 16.8661 0.729166 11.125C0.729166 5.38388 5.38388 0.729166 11.125 0.729166C16.8661 0.729166 21.5208 5.38388 21.5208 11.125V12.1667C21.5208 13.9637 20.0638 15.4208 18.2667 15.4208C16.4696 15.4208 15.0125 13.9637 15.0125 12.1667V11.125C15.0125 8.97847 13.2715 7.2375 11.125 7.2375C8.97847 7.2375 7.2375 8.97847 7.2375 11.125C7.2375 13.2715 8.97847 15.0125 11.125 15.0125C12.2536 15.0125 13.2703 14.5313 13.9877 13.7629C14.4659 15.9392 16.2338 17.6083 18.2667 17.6083C21.2718 17.6083 23.7083 15.1718 23.7083 12.1667V11.125C23.7083 4.17576 18.0742 -1.45833 11.125 -1.45833C4.17576 -1.45833 -1.45833 4.17576 -1.45833 11.125C-1.45833 18.0742 4.17576 23.7083 11.125 23.7083C14.1206 23.7083 16.8926 22.6846 19.1083 20.9667C19.5694 20.6091 19.6548 19.9441 19.2972 19.483C18.9396 19.0219 18.2746 18.9365 17.8135 19.2941C15.9126 20.7681 13.5955 21.5208 11.125 21.5208Z"
                      fill="#64748B" />
                    <path fill-rule="evenodd" clip-rule="evenodd"
                      d="M11.125 9.425C12.0639 9.425 12.825 10.1861 12.825 11.125C12.825 12.0639 12.0639 12.825 11.125 12.825C10.1861 12.825 9.425 12.0639 9.425 11.125C9.425 10.1861 10.1861 9.425 11.125 9.425Z"
                      fill="#64748B" />
                  </svg>
                </span>
              </div>
              <p *ngIf="emailError" class="mt-1 text-sm text-red-500">{{ emailError }}</p>
            </div>

            <!-- Password Input -->
            <div class="mb-6">
              <label for="password" class="mb-2.5 block font-medium text-gray-700 dark:text-gray-400">Password</label>
              <div class="relative">
                <input [type]="showPassword ? 'text' : 'password'" placeholder="6+ Characters, 1 Capital letter"
                  [(ngModel)]="password" name="password"
                  [disabled]="isLoading"
                  [class.border-red-500]="passwordError"
                  class="w-full rounded-lg border border-gray-300 bg-transparent py-4 pl-6 pr-10 text-gray-700 outline-none focus:border-primary focus-visible:shadow-none dark:border-gray-600 dark:bg-gray-800 dark:text-gray-400 dark:focus:border-primary" />

                <span class="absolute right-4 top-4 cursor-pointer" (click)="togglePasswordVisibility()">
                  <svg *ngIf="!showPassword" width="22" height="22" viewBox="0 0 22 22" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                      d="M11 16.5C14.0376 16.5 16.5 14.0376 16.5 11C16.5 7.96243 14.0376 5.5 11 5.5C7.96243 5.5 5.5 7.96243 5.5 11C5.5 14.0376 7.96243 16.5 11 16.5ZM11 14.5C12.933 14.5 14.5 12.933 14.5 11C14.5 9.067 12.933 7.5 11 7.5C9.067 7.5 7.5 9.067 7.5 11C7.5 12.933 9.067 14.5 11 14.5Z"
                      fill="#64748B" />
                    <path fill-rule="evenodd" clip-rule="evenodd"
                      d="M20.9984 10.5511C21.0006 10.6997 21.0006 10.8491 20.9984 10.9978C20.9397 14.9398 17.4722 18.3333 11 18.3333C4.52779 18.3333 1.06035 14.9398 1.00161 10.9978C0.999464 10.8491 0.999464 10.6997 1.00161 10.5511C1.06035 6.60912 4.52779 3.21558 11 3.21558C17.4722 3.21558 20.9397 6.60912 20.9984 10.5511ZM19.1585 10.7744C19.1068 7.93858 16.3996 5.04891 11 5.04891C5.60044 5.04891 2.89319 7.93858 2.84153 10.7744C2.89319 13.6103 5.60044 16.5 11 16.5C16.3996 16.5 19.1068 13.6103 19.1585 10.7744Z"
                      fill="#64748B" />
                  </svg>
                  <svg *ngIf="showPassword" width="22" height="22" viewBox="0 0 24 24" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path d="M2 2L22 22" stroke="#64748B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    <path
                      d="M6.71277 6.7226C3.66479 8.79527 2 12 2 12C2 12 5.63636 19 12 19C14.0503 19 15.8174 18.2734 17.2711 17.2884M11 5.05822C11.3254 5.02013 11.6588 5 12 5C18.3636 5 22 12 22 12C22 12 21.3082 13.3317 20 14.8335"
                      stroke="#64748B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    <path d="M14 14.2362C13.4692 14.7112 12.7686 15.0002 12 15.0002C10.3431 15.0002 9 13.657 9 12.0002C9 11.1764 9.33193 10.4303 9.86932 9.88818"
                      stroke="#64748B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
                </span>
              </div>
              <p *ngIf="passwordError" class="mt-1 text-sm text-red-500">{{ passwordError }}</p>
            </div>

            <div class="mb-6 flex items-center justify-between gap-2 py-2">
              <label for="remember"
                class="flex cursor-pointer select-none items-center font-satoshi text-base font-medium text-gray-700 dark:text-gray-400">
                <input type="checkbox" name="remember" id="remember" class="sr-only peer" />
                <span
                  class="mr-2.5 flex h-5.5 w-5.5 items-center justify-center rounded-md border border-gray-300 bg-white text-white opacity-0 peer-checked:border-primary peer-checked:bg-primary peer-checked:opacity-100 dark:border-gray-600 dark:bg-gray-800">
                  <svg width="10" height="7" viewBox="0 0 10 7" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                      d="M9.70692 0.292787C9.89439 0.480314 9.99971 0.734622 9.99971 0.999847C9.99971 1.26507 9.89439 1.51939 9.70692 1.70691L4.70692 6.70691C4.51939 6.89438 4.26508 6.9997 3.99985 6.9997C3.73462 6.9997 3.48031 6.89438 3.29278 6.70691L0.292787 3.70691C0.110761 3.51818 0.00996641 3.26558 0.012983 3.00508C0.0159996 2.74458 0.122584 2.4944 0.308855 2.30813C0.495127 2.12186 0.745303 2.01527 1.0058 2.01225C1.2663 2.00924 1.5189 2.11003 1.70763 2.29206L3.99985 4.58428L8.29206 0.292787C8.47959 0.105316 8.7339 0 8.99913 0C9.26436 0 9.51867 0.105316 9.70692 0.292787Z"
                      fill="currentColor" />
                  </svg>
                </span>
                Remember me
              </label>

              <a routerLink="/auth/forgot-password"
                class="select-none font-satoshi text-base font-medium text-gray-700 hover:text-primary dark:text-gray-400 dark:hover:text-primary">Forgot
                Password?</a>
            </div>

            <div class="mb-5">
              <button type="submit"
                [disabled]="isLoading"
                class="flex w-full cursor-pointer items-center justify-center gap-2 rounded-lg border border-[#F59E0B] bg-[#F59E0B] p-4 font-medium text-white transition hover:bg-[#D97706] disabled:opacity-70 disabled:cursor-not-allowed">
                <app-loading-spinner *ngIf="isLoading"></app-loading-spinner>
                <span *ngIf="!isLoading">Sign In</span>
              </button>
            </div>
        </form>

        <div class="mt-6 text-center">
          <p class="text-sm text-gray-600">
            Don't have an account? <a routerLink="/register-practitioner" class="text-[#F59E0B] font-medium hover:underline">Create an account</a>
          </p>
        </div>

        <div class="mt-6 text-center">
          <a routerLink="/landing" class="inline-flex items-center text-sm text-gray-500 hover:text-gray-700 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
            </svg>
            Go Back to Land Page
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <div class="pb-4 text-center text-gray-600 text-xs mt-8">
    &copy; 2025 Weights and Measures Agency. All rights reserved.
  </div>
</div>